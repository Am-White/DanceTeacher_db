<style>

  /*add.handlebars*/
  /* Card styling */
    #searchCard {

    margin:auto;
    margin-top: 100px;
    max-width: 550px;
    opacity: 90%;
    box-shadow: 01px 0px 5px 3px rgba(24, 21, 21, 0.39);
    backdrop-filter: blur(20px);
    background-color: rgba(245, 244, 244, 0.863);
    }

    #searchHeader {
    font-family: 'Cinzel Decorative', cursive; 
    font-weight: 700;
    color: rgb(207, 205, 205);
    background-color:rgb(80, 130, 170);
    padding-top: 20px;
    }

    #cardBody {
    margin:auto;
    max-width: 550px;
    }
    /* Select styling */
    #label {
    font-family: 'Cinzel', serif;
    font-weight: bold;
    font-size: 18px;
    }
    /* bottom of card and link font styling */
    #addInst {
    font-family: 'Cinzel', serif;
    font-weight: bold;
    font-size: 13px;
    }
    /* Input and option styling */
    #addTeacher, #addDance, #className {
    font-family: 'Cinzel Decorative', cursive;
    width: 300px;
    }
    /* Add button and hover styling */
    #add {
    background-color:teal;
    color: white;
    width: 75px;
    font-family: 'Cinzel Decorative', cursive;
    }

    #add:hover {
    background-color: rgb(39, 221, 197);
    color: black;
    }

</style>

<div class="container">

<div class="card" id="searchCard">
  <div id="searchHeader" class="card-header text-center">
    <h3>Add New Dance Class</h3>
  </div>

  <div class="card-body"  id="cardBody">

{{!Enter class name}}
    <div class="row pt-3">
      <div class="col-4">
        <label id="label">Name of class:</label>
      </div>
      <div class="col-8">
        <div class="d-inline-flex align-items-start">
          <search name="title" id="newTitle">
            <textarea id = "className" type="text" name="className"></textarea>
          </search><br><br>
        </div>
      </div>
    </div>

{{!Enter teacher name}}
  <div class="row pt-4">
    <div class= "col-4 text-right">
      <label id="label" for="teacher">Instructor's name:</label>
    </div> 
    <div class="col-6">
      <div class="d-inline-flex align-items-start">
        <select name="teacherName" id="addTeacher">
        <option value="">--Please choose an instructor--</option>
        {{#each instructors}}
          <option id="options" value= {{this.id}}>{{this.name}} {{this.lastName}}</option>
        {{/each}}
      </select>
      </div>
    </div>
  </div><br>

{{!Enter dance type}}
  <div class="row">
    <div class="col-4 text-right">
      <label id="label">Dance style:</label>
    </div>
    <div class="col-6">
      <div class="d-inline-flex align-items-start">
        <select name="dance" id="addDance">
          <option value="">--Please choose a dance style--</option>
          {{#each dances}}
            <option id="options" value= {{this.id}}>{{this.danceTitle}}</option>
          {{/each}}
        </select>
      </div>
    </div>
  </div><br>


<div class="d-flex justify-content-center pt-3">
  <button id = "add" class="btn" type="button">Add</button>
  
</div>

<div id="addInst" class="d-flex justify-content-center pt-3 text-center">
  <p>Don't see your name under the instructors?<br>
    <a href="http://localhost:8080/teacher">Click here to add a new teacher</a></p>

</div> 

  </div>
  <div class="card-footer text-muted">

  </div>
</div>
</div>


<script type="text/javascript">

$("#add").on("click", function () {
  console.log($("#className").val().trim())
  
   $.ajax("/api/classes/", {
      type: "POST",
      data: 
      {
        classTitle: $("#className").val().trim(),
        danceID: $("#addDance").val().trim(),
        instructorID: $("#addTeacher").val().trim()
        }
    }).then(
      function() {
        console.log("class saved");
        location.href = "http://localhost:8080/index"
      }
    );
  });

</script>